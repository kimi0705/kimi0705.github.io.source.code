---
title: 【模板】并查集
date: 2023-05-10 17:48:18
tags: [模板,并查集,DSU,OI]
categories:
  - 编程
  - 模板
  - 并查集;DSU
---
```cpp
struct DSU {
	int Fa[N]; // 祖先
	int Si[N]; // 大小
	bool Bi[N]; // 祖先是否为自己
	void init() { // 初始化
		for (int i(1); i <= n; ++i) Fa[i] = i;
		for (int i(1); i <= n; ++i) Si[i] = 1;
		for (int i(1); i <= n; ++i) Bi[i] = true;
		return;
	}
	int Find(int x) { // 寻找祖先
		if (Fa[x] == x) return x;
		else return Fa[x] = Find(Fa[x]);
	}
	bool merge(int x, int y) { // 把y归到x
		int Fx = Find(x), Fy = Find(y);
		if (Fx == Fy) return false; // 合并失败
		Fa[Fy] = Fx, Si[Fx] += Si[Fy], Si[Fy] = 0, Bi[Fy] = 0;
		return true; // 合并成功
	}
} 
```
<script src="https://giscus.app/client.js"
        data-repo="kimi0705/kimi0705.github.io"
        data-repo-id="R_kgDOJfkTvA"
        data-category="Q&A"
        data-category-id="DIC_kwDOJfkTvM4CWmkN"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
